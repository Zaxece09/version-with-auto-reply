# üö® –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ email

## –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ–º—ã–µ –æ—à–∏–±–∫–∏

–°–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç **–í–°–ï** –æ—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ email, –≤–∫–ª—é—á–∞—è:

### 1. **454-4.7.0** - Too many login attempts
```
Invalid login: 454-4.7.0 Too many login attempts, please try again later.
```
**–ü—Ä–∏—á–∏–Ω–∞:** –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
**–î–µ–π—Å—Ç–≤–∏–µ:** –°—á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞

### 2. **550-5.4.5** - Daily sending limit exceeded
```
Data command failed: 550-5.4.5 Daily user sending limit exceeded.
```
**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–µ–≤—ã—à–µ–Ω –¥–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ Gmail
**–î–µ–π—Å—Ç–≤–∏–µ:** –°—á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞

### 3. **535** - Authentication failed
```
535 Authentication failed
```
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å –∏–ª–∏ —Ç–æ–∫–µ–Ω
**–î–µ–π—Å—Ç–≤–∏–µ:** –°—á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞

### 4. **–î—Ä—É–≥–∏–µ SMTP –æ—à–∏–±–∫–∏**
–õ—é–±–∞—è –æ—à–∏–±–∫–∞ —Å —Ç–µ–∫—Å—Ç–æ–º "–æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –ø–∏—Å—å–º–∞"
**–î–µ–π—Å—Ç–≤–∏–µ:** –°—á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞

## –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ü–æ–¥—Å—á–µ—Ç –æ—à–∏–±–æ–∫
```python
MAX_CONSECUTIVE_ERRORS = 10  # –ü–æ—Ä–æ–≥ shutdown

# –õ—é–±–∞—è –æ—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å—å–º–∞
consecutive_email_errors += 1

# –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞
if consecutive_email_errors >= 10:
    SHUTDOWN  # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã
```

### –°–±—Ä–æ—Å —Å—á–µ—Ç—á–∏–∫–∞
–°—á–µ—Ç—á–∏–∫ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ª—é–±–æ–π —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ:
- "—É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω"
- "—Ä–∞—Å—Å—ã–ª–∫–∞ –Ω–∞—á–∞–ª–∞—Å—å"
- "–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ"

```python
consecutive_email_errors = 0  # –°–±—Ä–æ—Å
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç **–ö–ê–ñ–î–û–ï** —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –±–æ—Ç–∞:

### 1. –ù–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (NewMessage)
```python
@client.on(events.NewMessage(chats=[EMAIL_BOT]))
```

### 2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (MessageEdited)
```python
@client.on(events.MessageEdited(chats=[EMAIL_BOT]))
```

### 3. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞—Å—Å—ã–ª–∫–∏
–û—à–∏–±–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –¥–∞–∂–µ –ø–æ—Å–ª–µ "‚úÖ –†–∞—Å—Å—ã–ª–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞"

## –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

```
‚ö†Ô∏è [EMAIL ERROR 1/10] 454-4.7.0 Too many login attempts
‚ö†Ô∏è [EMAIL ERROR 2/10] 550-5.4.5 Daily sending limit exceeded
‚ö†Ô∏è [EMAIL ERROR 3/10] 454-4.7.0 Too many login attempts
...
‚ö†Ô∏è [EMAIL ERROR 9/10] 550-5.4.5 Daily sending limit exceeded

# –ü—Ä–∏ 10-–π –æ—à–∏–±–∫–µ
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: –ö–æ–Ω—á–∏–ª–∏—Å—å –ø–æ—á—Ç—ã!
‚ùå –ü–æ–ª—É—á–µ–Ω–æ 10 –æ—à–∏–±–æ–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–¥—Ä—è–¥
‚ùå –ü–æ—Å–ª–µ–¥–Ω—è—è –æ—à–∏–±–∫–∞: 550-5.4.5 Daily sending limit exceeded
‚ùå –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
```

## –£—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ (—Å–±—Ä–æ—Å)

```
‚úÖ –£—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ - —Å–±—Ä–æ—Å —Å—á–µ—Ç—á–∏–∫–∞ –æ—à–∏–±–æ–∫ (–±—ã–ª–æ: 5)
```

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å—á–µ—Ç—á–∏–∫ –æ–±–Ω—É–ª—è–µ—Ç—Å—è, –∏ –æ—Ç—Å—á–µ—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∑–∞–Ω–æ–≤–æ.

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ—à–∏–±–∫–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ `logs/email_processor.log`:

```
ERROR - –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ email (1/10): 454-4.7.0 Too many login attempts
DEBUG - –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏: –°–æ–æ–±—â–µ–Ω–∏–µ: Hallo... –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –ø–∏—Å—å–º–∞...
ERROR - –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ email (2/10): 550-5.4.5 Daily sending limit exceeded
...
CRITICAL - SHUTDOWN: 10 –æ—à–∏–±–æ–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–¥—Ä—è–¥. –ü–æ—Å–ª–µ–¥–Ω—è—è: 550-5.4.5
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–∞

–ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –æ—à–∏–±–æ–∫:

```python
# email_processor.py
MAX_CONSECUTIVE_ERRORS = 15  # –ë—ã–ª–æ 10
```

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

‚ö†Ô∏è **–°—á–µ—Ç—á–∏–∫ –ù–ï —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è:**
- –ü—Ä–∏ –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–∞—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –ü—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö —Å–µ—Ç–∏
- –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –≤—Ö–æ–¥—è—â–∏—Ö email

‚úÖ **–°—á–µ—Ç—á–∏–∫ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏:**
- –£—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ –ø–∏—Å—å–º–∞
- –ù–∞—á–∞–ª–µ —Ä–∞—Å—Å—ã–ª–∫–∏

üîç **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –í–æ –≤—Ä–µ–º—è —Ä–∞—Å—Å—ã–ª–∫–∏
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞—Å—Å—ã–ª–∫–∏
- –ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –±–æ—Ç–æ–º
- 24/7 –±–µ–∑ –ø–µ—Ä–µ—Ä—ã–≤–æ–≤

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ—à–∏–±–æ–∫

–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø –æ—à–∏–±–∫–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—é `check_email_sending_errors()`:

```python
elif "552" in message_text or "mailbox full" in message_text.lower():
    error_info = "552 Mailbox full"
```

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—á–∏—Ç–∞–µ—Ç –ª—é–±—É—é –æ—à–∏–±–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º "–æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –ø–∏—Å—å–º–∞".
